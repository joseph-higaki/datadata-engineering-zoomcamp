FROM python:3.9.20
RUN pip install pandas sqlalchemy psycopg2
COPY 1-ingest-pgdb.py 1-ingest-pgdb.py
COPY 1-ingest-pgdb-requirements.txt 1-ingest-pgdb-requirements.txt
ENTRYPOINT ["python", "1-ingest-pgdb.py", "--db_user", "root", "--db_password", "root", "--db_host", "pg-db", "--db_port", "5432", "--db_name", "ny_taxi", "--table_name", "yellow_taxi_data",  "--data_url", "https://github.com/DataTalksClub/nyc-tlc-data/releases/download/yellow/yellow_tripdata_2021-01.csv.gz"]